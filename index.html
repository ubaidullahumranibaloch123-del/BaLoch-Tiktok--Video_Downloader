<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>â¤âœ¨âƒâƒªBaLoch TikTok Downloader â¤ï¸</title>
<style>
body {
  margin:0;
  font-family:Arial, sans-serif;
  background: url('https://i.postimg.cc/w36xpMj0/background.jpg') no-repeat center center fixed;
  background-size: cover;
  text-align:center;
  color:#fff;
  overflow-x:hidden;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

/* Updated Heading Style */
h1 {
  font-size:48px;
  font-weight:bold;
  color:#06b6d4;
  text-shadow: 0 0 10px rgba(6,182,212,0.8), 0 0 20px rgba(0,240,255,0.6);
  letter-spacing:3px;
  margin-top: 30px;
  margin-bottom: 20px;
  text-transform: uppercase;
}

/* Profile Section */
.profile-container {
  width:100%;
  margin-top:20px;
  margin-bottom: 30px;
}
.profile-slide {
  display:flex;
  align-items:center;
  justify-content:center;
  gap:15px;
}

/* PROFILE PHOTO - UPDATED TO 120PX SIZE */
.profile-photo {
  width:120px;
  height:120px;
  border-radius:50%;
  border:3px solid #06b6d4; /* Original border color */
  object-fit:cover;
  box-shadow:0 0 12px rgba(6,182,212,0.6); /* Original shadow */
  transition: transform 0.3s ease;
}
.profile-photo:hover{ 
  transform: scale(1.05); /* Original hover effect */
  /* Remove box-shadow update on hover to stick to basic style */
}

.profile-info{ 
  text-align:left;
  background: rgba(0,0,0,0.4);
  padding: 10px 20px;
  border-radius: 10px;
  border: 1px solid rgba(0,240,255,0.3);
}
.profile-contact a{ 
  color:#00f0ff;
  text-decoration:none; 
  font-weight:500;
  transition: color 0.3s ease;
}
.profile-contact a:hover{ 
  color:#fff;
  text-shadow: 0 0 8px #00f0ff;
}

/* Rainbow Name - Enhanced */
#rainbowName {
  font-weight:bolder;
  font-size:28px;
  display:inline-block;
  letter-spacing:3px;
  background:linear-gradient(90deg,#FF6347,#FFD700,#ADFF2F,#00CED1,#8A2BE2,#FF1493);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  animation: rainbowGlow 3s infinite alternate;
  line-height: 1.2;
}
@keyframes rainbowGlow{
  0%,100%{ filter:brightness(1); text-shadow:0 0 8px rgba(255,255,255,0.7), 0 0 15px rgba(255,255,255,0.3); }
  50%{ filter:brightness(1.2); text-shadow:0 0 12px rgba(255,255,255,1), 0 0 20px rgba(255,255,255,0.5); }
}

/* Download Section */
.download-container { 
  margin-top:30px;
  background: rgba(0,0,0,0.5);
  padding: 30px 20px;
  border-radius: 15px;
  border: 1px solid rgba(6,182,212,0.5);
  box-shadow: 0 0 20px rgba(6,182,212,0.4);
  max-width: 600px;
  width: 90%;
}
input{ 
  width:calc(100% - 24px);
  padding:15px;
  margin:15px 0;
  border-radius:10px;
  border:none;
  background:#333;
  color:#eee;
  font-size:16px;
  box-shadow: inset 0 0 8px rgba(0,0,0,0.5);
}
input::placeholder {
  color: #bbb;
}
button{ 
  padding:15px 25px;
  border:none; 
  background:#00f0ff;
  color:white; 
  cursor:pointer; 
  border-radius:8px;
  margin:10px; 
  font-weight:bold;
  font-size:18px;
  transition: background 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
  box-shadow: 0 5px 15px rgba(0,240,255,0.4);
}
button:hover{ 
  background:#06b6d4;
  transform: translateY(-2px);
  box-shadow: 0 8px 20px rgba(6,182,212,0.6);
}
#status{ 
  margin-top:20px;
  font-weight:bold; 
  font-size:18px;
  color:#fff;
  min-height: 25px;
}
</style>
</head>
<body>

<div class="fire-heading-container">
  <h1>â¤âœ¨âƒâƒªBaLoch TikTok Downloader â¤ï¸</h1>
</div>

<div class="profile-container">
  <div class="profile-slide">
    <img src="https://i.postimg.cc/z3JXTj4k/profile.jpg" class="profile-photo"/>
    <div class="profile-info">
      <div id="rainbowName">â¤âœ¨âƒâƒªğ”ğğ€ğˆğƒğ”ğ‹ğ‹ğ€ğ‡âŸ¶ğğ€ğ‹ğğ‚ğ‡ â¤</div>
      <div class="profile-contact">
        ğŸ“± <a href="https://wa.me/923048661181" target="_blank">03048661181</a> | 03702866763
      </div>
    </div>
  </div>
</div>

<div class="download-container">
  <input type="text" id="ttlink" placeholder="Paste TikTok video or audio link here">
  <br>
  <button id="dlVideo">Download Video</button>
  <button id="dlAudio">Download MP3</button>
  <div id="status"></div>
</div>

<script>
// --- Ø¨ÛŒÚ© Ø§ÛŒÙ†Úˆ Ø§Ù†Ù¹ÛŒÚ¯Ø±ÛŒØ´Ù† Ù„Ø§Ø¬Ú© (Download Logic) ---

const backendURL = "http://localhost:3000/download"; 

async function handleDownload(type) {
    const link = document.getElementById('ttlink').value;
    const statusElement = document.getElementById('status');
    
    if (!link) {
        statusElement.style.color = 'yellow';
        statusElement.innerText = "âš ï¸ Please paste a link first.";
        return;
    }

    statusElement.style.color = '#fff';
    statusElement.innerText = `ğŸ”„ Preparing ${type} download... Please wait.`;

    try {
        const response = await fetch(backendURL, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ link: link, type: type })
        });

        const data = await response.json();

        if (data.success && data.downloadUrl) {
            statusElement.style.color = '#00ff00';
            statusElement.innerText = `âœ… Success! Redirecting to download...`;
            
            window.location.href = data.downloadUrl;
        } else {
            statusElement.style.color = '#ff4500';
            statusElement.innerText = `âŒ Error: ${data.error || 'Failed to get download link.'}`;
        }
    } catch (e) {
        statusElement.style.color = '#ff4500';
        statusElement.innerText = "âŒ Connection error. Check the backend server (Node.js).";
        console.error("Fetch Error:", e);
    }
}

document.getElementById('dlVideo').onclick = () => handleDownload('video');
document.getElementById('dlAudio').onclick = () => handleDownload('audio');

</script>
</body>
</html>
